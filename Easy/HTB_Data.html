<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTB: Data | Sérgio Muniz</title>
  <meta name="description" content="Writeup técnico da box Data (Hack The Box), incluindo recon, foothold e escalonamento de privilégios.">
  <meta property="og:title" content="HTB: Data">
  <meta property="og:locale" content="pt_BR">
  <meta property="og:description" content="Writeup técnico da box Data">
  <meta property="og:type" content="article">
  <style>
    :root {
      --bg-main: #050608;
      --bg-card: #101218;
      --border-subtle: #2a2f3a;
      --accent: #ff4b4b;
      --text-main: #e5e5e5;
      --text-muted: #9b9b9b;
      --title: #f5f5f5;
      --link: #7aa2ff;
      --htb-green: #a3e635;
    }

    html, body { margin: 0; padding: 0; }
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: var(--bg-main);
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
    }

    .container {
      max-width: 1100px;
      margin: 40px auto 60px;
      padding: 0 24px;
    }

    h1, h2, h3 {
      color: var(--title);
      font-weight: 600;
    }

    .header {
      margin-bottom: 32px;
      display: flex;
      align-items: center;
      gap: 24px;
    }

    .icon-badge {
      flex: 0 0 auto;
    }

    .icon-badge svg {
      display: block;
      width: 96px;
      height: 96px;
    }

    .header-text {
      flex: 1 1 auto;
    }

    .title-main {
      font-size: 2.2rem;
      margin: 0 0 4px;
    }

    .subtitle {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin: 0;
    }

    .accent-divider {
      width: 100%;
      height: 1px;
      background: #1f2933;
      margin: 16px 0 10px;
    }

    .meta {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      margin-top: 6px;
      font-size: 0.85rem;
    }

    .meta-item {
      min-width: 120px;
    }

    .meta-label {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.72rem;
      color: var(--text-muted);
      display: block;
      margin-bottom: 2px;
    }

    .meta-value {
      color: var(--htb-green);
      font-weight: 600;
    }

    .card {
      background: var(--bg-card);
      padding: 22px 22px 26px;
      border-radius: 4px;
      border: 1px solid var(--border-subtle);
      margin-bottom: 32px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.85);
    }

    h2 {
      margin-top: 0;
      padding-bottom: 4px;
      border-bottom: 1px solid #2a2f3a;
      margin-bottom: 12px;
      color: var(--accent);
      font-weight: 500;
      font-size: 1.1rem;
    }

    h3 {
      font-size: 1rem;
      margin-top: 18px;
      margin-bottom: 8px;
    }

    p {
      line-height: 1.7;
      font-size: 0.98rem;
      color: var(--text-main);
      margin: 0 0 12px;
    }

    ul {
      margin: 0 0 12px 1.2rem;
      padding: 0;
    }

    li {
      margin-bottom: 4px;
    }

    pre {
      background: #050608;
      padding: 12px 14px;
      border-radius: 4px;
      border: 1px solid #1f2937;
      margin-bottom: 18px;
      overflow-x: auto;
      position: relative;
      color: #e5e7eb;
      font-family: "Cascadia Code", "Fira Code", Menlo, Consolas, monospace;
      font-size: 0.9rem;
      white-space: pre;
    }

    pre::before {
      content: "code";
      position: absolute;
      top: 6px;
      right: 10px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
    }

    code {
      color: #e5e7eb;
      font-family: "Cascadia Code", "Fira Code", Menlo, Consolas, monospace;
      font-size: 0.9rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 18px;
      font-size: 0.9rem;
    }

    th, td {
      border: 1px solid #1f2937;
      padding: 6px 8px;
      text-align: left;
    }

    th {
      background: #050608;
      font-weight: 600;
    }

    tr:nth-child(even) td {
      background: #0b0f17;
    }

    a {
      color: var(--link);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .container {
        margin: 20px auto 40px;
        padding: 0 12px;
      }

      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }

      .title-main {
        font-size: 1.6rem;
      }

      .card {
        padding: 16px 14px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="icon-badge">
        <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Data icon">
          <defs>
            <radialGradient id="dataGlow" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#22c55e" stop-opacity="0.8" />
              <stop offset="60%" stop-color="#22c55e" stop-opacity="0.1" />
              <stop offset="100%" stop-color="#022c22" stop-opacity="0" />
            </radialGradient>
          </defs>
          <circle cx="60" cy="60" r="56" fill="#020617" stroke="#4ade80" stroke-width="6" />
          <circle cx="60" cy="60" r="50" fill="#020617" />
          <circle cx="60" cy="60" r="44" fill="url(#dataGlow)" />
          <rect x="32" y="32" width="56" height="56" rx="6" fill="#020617" stroke="#1d4ed8" stroke-width="2" />
          <rect x="36" y="40" width="24" height="8" rx="2" fill="#0f172a" stroke="#38bdf8" stroke-width="1" />
          <rect x="36" y="56" width="36" height="8" rx="2" fill="#0f172a" stroke="#38bdf8" stroke-width="1" />
          <rect x="36" y="72" width="44" height="8" rx="2" fill="#0f172a" stroke="#38bdf8" stroke-width="1" />
          <circle cx="84" cy="44" r="5" fill="#22c55e" />
          <circle cx="84" cy="60" r="5" fill="#22c55e" />
          <circle cx="84" cy="76" r="5" fill="#22c55e" />
        </svg>
      </div>
      <div class="header-text">
        <h1 class="title-main">HTB: Data</h1>
        <p class="subtitle">Writeup técnico por Sérgio Muniz</p>
        <div class="accent-divider"></div>
        <div class="meta">
          <div class="meta-item">
            <span class="meta-label">OS</span>
            <span class="meta-value">Linux</span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Difficulty</span>
            <span class="meta-value">Easy</span>
          </div>
          <div class="meta-item">
            <span class="meta-label">State</span>
            <span class="meta-value">Active</span>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>0. Metadados da Máquina</h2>
      <ul>
        <li>Plataforma: Hack The Box</li>
        <li>Nome da máquina: <strong>Data</strong></li>
        <li>Sistema operacional: Linux</li>
        <li>Nível de dificuldade: Easy</li>
        <li>Endereço IP do alvo: <code>10.129.234.47</code></li>
        <li>Estado da máquina: Em andamento</li>
        <li>Data da execução: <code>2025-11-23</code></li>
        <li>Autor: <code>Sérgio Muniz</code></li>
      </ul>
    </div>

    <div class="card">
      <h2>1. Visão Geral / TL;DR</h2>
      <ul>
        <li>Vetor de acesso inicial: ...</li>
        <li>Vulnerabilidade principal: ...</li>
        <li>Foothold: ...</li>
        <li>Escalação de privilégios: ...</li>
        <li>Flags <code>user</code> e <code>root</code>: ...</li>
        <li>Impacto em ambiente real: ...</li>
      </ul>
    </div>

    <div class="card">
      <h2>2. Reconhecimento e Enumeração Inicial</h2>

      <h3>2.1. Preparação do ambiente de trabalho</h3>
      <ul>
        <li>Estrutura de diretórios: <code>scans/</code>, <code>loot/</code>, <code>web/</code>, <code>exploit/</code>, <code>notes/</code>.</li>
        <li>Variáveis: <code>$IP</code>, <code>$BOX</code>, <code>$TS</code>, <code>$WORK</code>.</li>
      </ul>
      <pre><code>New-Item -ItemType Directory -Path "$HOME/ctf/env" -Force | Out-Null
$IP = "10.129.234.47"; $BOX = "Data"; $TS = Get-Date -Format "yyyy-MM-dd_HH-mm-ss"; $WORK = "$HOME/ctf/$IP/${BOX}_$TS"; New-Item -ItemType Directory -Path "$WORK/scans","$WORK/loot","$WORK/web","$WORK/exploit","$WORK/notes" -Force | Out-Null; Set-Location $WORK</code></pre>

      <h3>2.2. Mapeamento de portas e serviços expostos</h3>
      <pre><code>PS [10.10.14.149] /home/smss/ctf/10.129.234.47/Data_2025-11-23_15-18-15 &gt; nmap -Pn -sS -p- -n --min-rate 10000 -vvv -oA "$WORK/scans/full_tcp_allports" $IP</code></pre>
      <p>Portas identificadas:</p>
      <table>
        <thead>
          <tr>
            <th>Porta</th>
            <th>Protocolo</th>
            <th>Serviço</th>
            <th>Observações</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>22</td>
            <td>tcp</td>
            <td>ssh</td>
            <td>OpenSSH exposto para acesso remoto autenticado</td>
          </tr>
          <tr>
            <td>3000</td>
            <td>tcp</td>
            <td>http (app web)</td>
            <td>Redireciona para <code>/login</code></td>
          </tr>
        </tbody>
      </table>
      <p>As demais 65.533 portas foram reportadas como fechadas (<code>reset</code>).</p>
      <pre><code>PS [10.10.14.149] /home/smss/ctf/10.129.234.47/Data_2025-11-23_15-18-15 &gt; nmap -Pn -sCV -p 22,3000 -n -vvv -oA "$WORK/scans/targeted_22_3000" $IP</code></pre>
      <p>22/tcp: <code>OpenSSH 7.6p1 Ubuntu 4ubuntu0.7 (Ubuntu Linux; protocol 2.0)</code> &rarr; indica <strong>Ubuntu 18.04 Bionic</strong>.</p>
      <p>3000/tcp: serviço HTTP retornando <code>400 Bad Request</code> para entradas inválidas e <code>302 Found</code> para <code>/login</code>, com cabeçalhos de segurança básicos e cookie <code>redirect_to=%2F</code>. Forte indicação de painel web autenticado na porta 3000.</p>
    </div>

    <div class="card">
      <h2>3. Enumeração de Serviços Web (HTTP/HTTPS)</h2>
      <h3>3.1. Análise exploratória</h3>
      <ul>
        <li>Contexto da aplicação: ...</li>
        <li>Funcionalidades visíveis: ...</li>
        <li>Pontos que chamam atenção: ...</li>
      </ul>

      <h3>3.2. Enumeração automatizada</h3>
      <pre><code># Comando</code></pre>
      <ul>
        <li>Endpoint 1: ...</li>
        <li>Endpoint 2: ...</li>
      </ul>

      <h3>3.3. Funcionalidades e hipóteses de vulnerabilidade</h3>
      <ul>
        <li>Pontos de entrada (GET/POST, uploads, APIs): ...</li>
        <li>Comportamentos suspeitos: ...</li>
        <li>Hipóteses: SQLi, LFI, RCE, XSS, etc.: ...</li>
      </ul>
    </div>

    <div class="card">
      <h2>4. Foothold (Comprometimento Inicial)</h2>
      <h3>4.1. Vulnerabilidade explorada</h3>
      <ul>
        <li>Tipo: ...</li>
        <li>Endpoint/parâmetro afetado: ...</li>
        <li>Referências (CVE / artigo / PoC): ...</li>
      </ul>

      <h3>4.2. Cadeia de exploração</h3>
      <pre><code># Comando</code></pre>
      <ul>
        <li>Construção do payload: ...</li>
        <li>Execução e obtenção de shell: ...</li>
        <li>Estabilização da shell: ...</li>
      </ul>

      <h3>4.3. User flag</h3>
      <ul>
        <li>Usuário comprometido: ...</li>
        <li>Caminho de <code>user.txt</code>: ...</li>
      </ul>
      <pre><code># Comando</code></pre>
    </div>

    <div class="card">
      <h2>5. Enumeração Pós-Foothold</h2>
      <h3>5.1. Sistema</h3>
      <ul>
        <li>SO e kernel: ...</li>
        <li>Usuários e grupos: ...</li>
        <li>Sudo / cron / serviços: ...</li>
      </ul>
      <pre><code># Comando</code></pre>

      <h3>5.2. Artefatos sensíveis</h3>
      <ul>
        <li>Configs em <code>/etc</code>, <code>/var/www</code>, <code>/opt</code>: ...</li>
        <li>Credenciais, chaves, tokens: ...</li>
        <li>Scripts internos interessantes: ...</li>
      </ul>
      <pre><code># Comando</code></pre>
    </div>

    <div class="card">
      <h2>6. Escalação de Privilégios</h2>
      <h3>6.1. Vetor identificado</h3>
      <ul>
        <li>Categoria (SUID, sudo, serviço, kernel, etc.): ...</li>
        <li>Evidências: ...</li>
        <li>Referências: ...</li>
      </ul>

      <h3>6.2. Execução</h3>
      <pre><code># Comando</code></pre>
      <ul>
        <li>Passos principais: ...</li>
        <li>Riscos e limitações: ...</li>
      </ul>

      <h3>6.3. Root flag</h3>
      <ul>
        <li>Confirmação de contexto <code>root</code>: ...</li>
        <li>Caminho de <code>root.txt</code>: ...</li>
      </ul>
      <pre><code># Comando</code></pre>
    </div>

    <div class="card">
      <h2>7. Pós-Exploração e Análise</h2>
      <ul>
        <li>Dados adicionais relevantes: ...</li>
        <li>Possível movimento lateral / persistência: ...</li>
        <li>Avaliação de risco (CIA): ...</li>
        <li>Medidas de hardening: ...</li>
      </ul>
    </div>

    <div class="card">
      <h2>8. Lições Aprendidas</h2>
      <ul>
        <li>Conceitos novos: ...</li>
        <li>Ferramentas/técnicas que funcionaram bem: ...</li>
        <li>Erros e caminhos mortos úteis para lembrar: ...</li>
      </ul>
    </div>

    <div class="card">
      <h2>9. Apêndice</h2>
      <h3>9.1. Linha do tempo de comandos</h3>
      <pre><code># Comando</code></pre>

      <h3>9.2. Referências</h3>
      <ul>
        <li>Writeups externos: ...</li>
        <li>Artigos / advisories: ...</li>
        <li>Cheatsheets / docs de ferramentas: ...</li>
      </ul>
    </div>
  </div>
</body>
</html>
